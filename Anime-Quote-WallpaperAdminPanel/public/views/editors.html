<h2>Editors</h2>

<hr />

<div class="row">

    <div class="col-lg-5">
        <h4>Add new</h4>
        <form id="category-form">
            <div class="form-group">
                <label for="category-name">Enter name</label>
                <input type="text" class="form-control" id="category-name" />
                <div class="invalid-feedback">
                    Please enter a Editor name
                </div>
            </div>
            <div class="form-group">
                <label for="category-thumbnail">Thumbnail</label>
                <input type="file" class="form-control" id="category-thumbnail" />
                <div class="invalid-feedback">
                    Please enter a valid thumbnail
                </div>
            </div>
            <div class="form-group">
                <img id="selected-thumbnail" width="250" height="150" src="#" />
            </div>
            <div class="form-group">
                <div class="progress">
                    <div class="progrss-bar" id="upload-progress" style="width:0%">0%</div>
                </div>    
            </div>
            <div class="form-group">
                    <button id="save-editor" type="button" class="btn btn-primary">Save</button>
                </div>
        </form>
        <div id="result">

        </div>
    </div>
    <div class="col-lg-7">
        <h4> Saved Editors </h4>
    </div>
</div>
<script>
        var validImageTypes = ["image/gif", "image/jpeg", "image/png","image/jpg"];
       $("#selected-thumbnail").hide();
        function previewThumbnail(thumbnail){
            if(thumbnail.files && thumbnail.files[0]){
                var reader = new FileReader(); 
                reader.onload = function(e){
                    $("#selected-thumbnail").attr('src', e.target.result);
                    $("#selected-thumbnail").fadeIn();
                }
                reader.readAsDataURL(thumbnail.files[0]);
            }
        }
        $("#category-thumbnail").change(function(){
            previewThumbnail(this);
        });
        
    $("#save-category").click(function(){
        $("#category-name").removeClass("is-invalid");
        $("#category-thumbnail").removeClass("is-invalid");
        var catname = $("#category-name").val();
        var desc = $("#category-desc").val(); 
        var thumbnail = $("#category-thumbnail").prop("files")[0];
         if(!catname){
            $("#category-name").addClass("is-invalid");
            return; 
        }
        if(thumbnail == null){
            $("#category-thumbnail").addClass("is-invalid");
            return; 
        }

        if($.inArray(thumbnail["type"], validImageTypes)<0){
            $("#category-thumbnail").addClass("is-invalid");
            return; 
        }
    });
</script>
            